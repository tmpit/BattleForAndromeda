<html>
<head>
	<title>test</title>
	<script type="text/javascript" src="../src/core/sra.js"></script>
	<script type="text/javascript">
		window.onload = function () {
			var canvas = document.getElementsByTagName('canvas')[0];
			var controller = SRA.Controller.getSharedInstance();
			controller.canvas = new Graphics.Canvas(canvas);
			controller.setFrameRate(60);

			var mainScene = new SRA.Scene();
			mainScene.backgroundColor = Graphics.Color.Magenta;
			mainScene.rect.size = controller.canvas.getSize();
			controller.pushScene(mainScene);
			controller.run();			

			var node = new SRA.Entity();
			node.backgroundColor = Graphics.Color.Yellow;
			node.rect.origin.x = 100.0;
			node.rect.origin.y = 100.0;
			node.rect.size.width = 50.0;
			node.rect.size.height = 50.0;
			node.zOrder = 1;
			mainScene.addChild(node);

			var moveRight = new SRA.MoveByAction(new Geometry.Vector2(250.0, 0.0), 2.0, 1.0);
			var moveDown = new SRA.MoveByAction(new Geometry.Vector2(0.0, 150.0), 2.0, 1.0);
			var moveLeft = new SRA.MoveByAction(new Geometry.Vector2(-250.0, 0.0), 2.0, 1.0);
			var moveUp = new SRA.MoveByAction(new Geometry.Vector2(0.0, -150.0), 2.0, 1.0);
			var rotateRight = new SRA.RotateByAction(Geometry.degreesToRadians(90.0), 1.0, 1.0);
			var delay = new SRA.DelayAction(0.2, 1.0);
			var actions = [delay, moveRight, delay, rotateRight, delay, moveDown, delay, rotateRight, delay, moveLeft, delay, rotateRight, delay, moveUp, delay, rotateRight];
			var sequence = new SRA.ActionSequence(actions);
			var repeat = new SRA.RepeatAction(sequence, -1);
			node.addAction(repeat);
		}
	</script>
</head>
<body>
	<canvas width="640" height="480">
	</canvas>
</body>
</html>